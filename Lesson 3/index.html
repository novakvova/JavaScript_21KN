<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Request</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">

</head>

<body>
    <h1>Привіт JavaScript</h1>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Name</th>
                <th scope="col">Image</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody id="listUsers">
        </tbody>
    </table>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.11.0/axios.min.js"></script>

    <script>
        const requestUsers = async () => {
            try 
            {
                const url = "https://lohika.itstep.click/api/Users/all";
                //Зберігає результат, що повертає axios
                const response = await axios.get(url);
                //const user1 = response.data[0]; //Перший із списку
                // console.log("result server", response);
                // console.log("user1", user1);
                const users = response.data;
                // console.log("Users", users);
                const n = users.length;
                const listUsers = document.getElementById("listUsers");
                for(let i = 0; i < n; i++) 
                {
                     console.log("user ", users[i]);
                     const urlImage = `https://lohika.itstep.click/images/200_${users[i].photo}`;
                    //  console.log("images", urlImage);

                    listUsers.innerHTML +=
                    `
            <tr>
                <th scope="row">${users[i].id}</th>
                <td>${users[i].secondName} ${users[i].firstName}</td>
                <td>
                    <img src="${urlImage}"
                        width="75" 
                        alt="Фото користувача">
                </td>
                <td></td>
            </tr>
                    `;
                }
            }
            catch(problem) 
            {
                console.log("Хюстон у нас проблеми",problem);
            }
        }
    </script>

    <script>
        //Викликаємо функцію, яка посилає запит
        requestUsers();

        const listBears = [
            {
                id: 1,
                name: "Петро Миколайович",
                image: "https://miro.medium.com/v2/resize:fit:2400/1*6_oHYdP-4Zvszbey6ZBw0w.jpeg"
            },
            {
                            
                id: 2,
                name: "Махмут Іван",
                image: "https://www.boredpanda.com/blog/wp-content/uploads/2023/01/funny-weird-cats-weirdlilguys-cover_800.png"
            
            }
        ];
        console.log("List Bears", listBears);
        const n=listBears.length;
        const listUsers = document.getElementById("listUsers");
        for(let i=0; i<n; i++)
        {
            listUsers.innerHTML += 
                `
            <tr>
                <th scope="row">${listBears[i].id}</th>
                <td>${listBears[i].name}</td>
                <td>
                    <img src="${listBears[i].image}"
                        width="75" 
                        alt="Фото користувача">
                </td>
                <td></td>
            </tr>
                `;
        }
    </script>
</body>

</html>